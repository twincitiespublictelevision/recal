import React from"react";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _objectWithoutProperties(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function isDate(e){return e instanceof Date}var is_date=isDate,is_date$1=Object.freeze({default:is_date,__moduleExports:is_date}),isDate$1=is_date$1&&is_date||is_date$1,MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,DEFAULT_ADDITIONAL_DIGITS=2,parseTokenDateTimeDelimeter=/[T ]/,parseTokenPlainTime=/:/,parseTokenYY=/^(\d{2})$/,parseTokensYYY=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],parseTokenYYYY=/^(\d{4})/,parseTokensYYYYY=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],parseTokenMM=/^-(\d{2})$/,parseTokenDDD=/^-?(\d{3})$/,parseTokenMMDD=/^-?(\d{2})-?(\d{2})$/,parseTokenWww=/^-?W(\d{2})$/,parseTokenWwwD=/^-?W(\d{2})-?(\d{1})$/,parseTokenHH=/^(\d{2}([.,]\d*)?)$/,parseTokenHHMM=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,parseTokenHHMMSS=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,parseTokenTimezone=/([Z+-].*)$/,parseTokenTimezoneZ=/^(Z)$/,parseTokenTimezoneHH=/^([+-])(\d{2})$/,parseTokenTimezoneHHMM=/^([+-])(\d{2}):?(\d{2})$/;function parse(e,t){if(isDate$1(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var a=(t||{}).additionalDigits;a=null==a?DEFAULT_ADDITIONAL_DIGITS:Number(a);var r=splitDateString(e),n=parseYear(r.date,a),o=n.year,s=parseDate(n.restDateString,o);if(s){var i,d=s.getTime(),u=0;return r.time&&(u=parseTime(r.time)),r.timezone?i=parseTimezone(r.timezone):(i=new Date(d+u).getTimezoneOffset(),i=new Date(d+u+i*MILLISECONDS_IN_MINUTE).getTimezoneOffset()),new Date(d+u+i*MILLISECONDS_IN_MINUTE)}return new Date(e)}function splitDateString(e){var t,a={},r=e.split(parseTokenDateTimeDelimeter);if(parseTokenPlainTime.test(r[0])?(a.date=null,t=r[0]):(a.date=r[0],t=r[1]),t){var n=parseTokenTimezone.exec(t);n?(a.time=t.replace(n[1],""),a.timezone=n[1]):a.time=t}return a}function parseYear(e,t){var a,r=parseTokensYYY[t],n=parseTokensYYYYY[t];if(a=parseTokenYYYY.exec(e)||n.exec(e)){var o=a[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(a=parseTokenYY.exec(e)||r.exec(e)){var s=a[1];return{year:100*parseInt(s,10),restDateString:e.slice(s.length)}}return{year:null}}function parseDate(e,t){if(null===t)return null;var a,r,n;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(a=parseTokenMM.exec(e))return r=new Date(0),n=parseInt(a[1],10)-1,r.setUTCFullYear(t,n),r;if(a=parseTokenDDD.exec(e)){r=new Date(0);var o=parseInt(a[1],10);return r.setUTCFullYear(t,0,o),r}if(a=parseTokenMMDD.exec(e)){r=new Date(0),n=parseInt(a[1],10)-1;var s=parseInt(a[2],10);return r.setUTCFullYear(t,n,s),r}return(a=parseTokenWww.exec(e))?dayOfISOYear(t,parseInt(a[1],10)-1):(a=parseTokenWwwD.exec(e))?dayOfISOYear(t,parseInt(a[1],10)-1,parseInt(a[2],10)-1):null}function parseTime(e){var t,a,r;if(t=parseTokenHH.exec(e))return(a=parseFloat(t[1].replace(",",".")))%24*MILLISECONDS_IN_HOUR;if(t=parseTokenHHMM.exec(e))return a=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),a%24*MILLISECONDS_IN_HOUR+r*MILLISECONDS_IN_MINUTE;if(t=parseTokenHHMMSS.exec(e)){a=parseInt(t[1],10),r=parseInt(t[2],10);var n=parseFloat(t[3].replace(",","."));return a%24*MILLISECONDS_IN_HOUR+r*MILLISECONDS_IN_MINUTE+1e3*n}return null}function parseTimezone(e){var t,a;return(t=parseTokenTimezoneZ.exec(e))?0:(t=parseTokenTimezoneHH.exec(e))?(a=60*parseInt(t[2],10),"+"===t[1]?-a:a):(t=parseTokenTimezoneHHMM.exec(e))?(a=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-a:a):0}function dayOfISOYear(e,t,a){t=t||0,a=a||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var n=7*t+a+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+n),r}var parse_1=parse,parse$1=Object.freeze({default:parse_1,__moduleExports:parse_1}),parse$2=parse$1&&parse_1||parse$1;function getDaysInMonth(e){var t=parse$2(e),a=t.getFullYear(),r=t.getMonth(),n=new Date(0);return n.setFullYear(a,r+1,0),n.setHours(0,0,0,0),n.getDate()}var get_days_in_month=getDaysInMonth,get_days_in_month$1=Object.freeze({default:get_days_in_month,__moduleExports:get_days_in_month}),getDaysInMonth$1=get_days_in_month$1&&get_days_in_month||get_days_in_month$1;function addMonths(e,t){var a=parse$2(e),r=Number(t),n=a.getMonth()+r,o=new Date(0);o.setFullYear(a.getFullYear(),n,1),o.setHours(0,0,0,0);var s=getDaysInMonth$1(o);return a.setMonth(n,Math.min(s,a.getDate())),a}var add_months=addMonths,add_months$1=Object.freeze({default:add_months,__moduleExports:add_months}),addMonths$1=add_months$1&&add_months||add_months$1;function addYears(e,t){var a=Number(t);return addMonths$1(e,12*a)}var add_years=addYears;function addDays(e,t){var a=parse$2(e),r=Number(t);return a.setDate(a.getDate()+r),a}var add_days=addDays,add_days$1=Object.freeze({default:add_days,__moduleExports:add_days}),addDays$1=add_days$1&&add_days||add_days$1;function addWeeks(e,t){var a=Number(t);return addDays$1(e,7*a)}var add_weeks=addWeeks;function startOfYear(e){var t=parse$2(e),a=new Date(0);return a.setFullYear(t.getFullYear(),0,1),a.setHours(0,0,0,0),a}var start_of_year=startOfYear,start_of_year$1=Object.freeze({default:start_of_year,__moduleExports:start_of_year});function startOfDay(e){var t=parse$2(e);return t.setHours(0,0,0,0),t}var start_of_day=startOfDay,start_of_day$1=Object.freeze({default:start_of_day,__moduleExports:start_of_day}),startOfDay$1=start_of_day$1&&start_of_day||start_of_day$1,MILLISECONDS_IN_MINUTE$1=6e4,MILLISECONDS_IN_DAY=864e5;function differenceInCalendarDays(e,t){var a=startOfDay$1(e),r=startOfDay$1(t),n=a.getTime()-a.getTimezoneOffset()*MILLISECONDS_IN_MINUTE$1,o=r.getTime()-r.getTimezoneOffset()*MILLISECONDS_IN_MINUTE$1;return Math.round((n-o)/MILLISECONDS_IN_DAY)}var difference_in_calendar_days=differenceInCalendarDays,difference_in_calendar_days$1=Object.freeze({default:difference_in_calendar_days,__moduleExports:difference_in_calendar_days}),startOfYear$1=start_of_year$1&&start_of_year||start_of_year$1,differenceInCalendarDays$1=difference_in_calendar_days$1&&difference_in_calendar_days||difference_in_calendar_days$1;function getDayOfYear(e){var t=parse$2(e);return differenceInCalendarDays$1(t,startOfYear$1(t))+1}var get_day_of_year=getDayOfYear,get_day_of_year$1=Object.freeze({default:get_day_of_year,__moduleExports:get_day_of_year});function startOfWeek(e,t){var a=t&&Number(t.weekStartsOn)||0,r=parse$2(e),n=r.getDay(),o=(n<a?7:0)+n-a;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}var start_of_week=startOfWeek,start_of_week$1=Object.freeze({default:start_of_week,__moduleExports:start_of_week}),startOfWeek$1=start_of_week$1&&start_of_week||start_of_week$1;function startOfISOWeek(e){return startOfWeek$1(e,{weekStartsOn:1})}var start_of_iso_week=startOfISOWeek,start_of_iso_week$1=Object.freeze({default:start_of_iso_week,__moduleExports:start_of_iso_week}),startOfISOWeek$1=start_of_iso_week$1&&start_of_iso_week||start_of_iso_week$1;function getISOYear(e){var t=parse$2(e),a=t.getFullYear(),r=new Date(0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);var n=startOfISOWeek$1(r),o=new Date(0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);var s=startOfISOWeek$1(o);return t.getTime()>=n.getTime()?a+1:t.getTime()>=s.getTime()?a:a-1}var get_iso_year=getISOYear,get_iso_year$1=Object.freeze({default:get_iso_year,__moduleExports:get_iso_year}),getISOYear$1=get_iso_year$1&&get_iso_year||get_iso_year$1;function startOfISOYear(e){var t=getISOYear$1(e),a=new Date(0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),startOfISOWeek$1(a)}var start_of_iso_year=startOfISOYear,start_of_iso_year$1=Object.freeze({default:start_of_iso_year,__moduleExports:start_of_iso_year}),startOfISOYear$1=start_of_iso_year$1&&start_of_iso_year||start_of_iso_year$1,MILLISECONDS_IN_WEEK=6048e5;function getISOWeek(e){var t=parse$2(e),a=startOfISOWeek$1(t).getTime()-startOfISOYear$1(t).getTime();return Math.round(a/MILLISECONDS_IN_WEEK)+1}var get_iso_week=getISOWeek,get_iso_week$1=Object.freeze({default:get_iso_week,__moduleExports:get_iso_week});function isValid(e){if(isDate$1(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}var is_valid=isValid,is_valid$1=Object.freeze({default:is_valid,__moduleExports:is_valid});function buildDistanceInWordsLocale(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,a,r){var n;return r=r||{},n="string"==typeof e[t]?e[t]:1===a?e[t].one:e[t].other.replace("{{count}}",a),r.addSuffix?r.comparison>0?"in "+n:n+" ago":n}}}var build_distance_in_words_locale=buildDistanceInWordsLocale,build_distance_in_words_locale$1=Object.freeze({default:build_distance_in_words_locale,__moduleExports:build_distance_in_words_locale}),commonFormatterKeys=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];function buildFormattingTokensRegExp(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);var r=commonFormatterKeys.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g")}var build_formatting_tokens_reg_exp=buildFormattingTokensRegExp,build_formatting_tokens_reg_exp$1=Object.freeze({default:build_formatting_tokens_reg_exp,__moduleExports:build_formatting_tokens_reg_exp}),buildFormattingTokensRegExp$1=build_formatting_tokens_reg_exp$1&&build_formatting_tokens_reg_exp||build_formatting_tokens_reg_exp$1;function buildFormatLocale(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["AM","PM"],s=["am","pm"],i=["a.m.","p.m."],d={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return a[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return n[e.getDay()]},A:function(e){return e.getHours()/12>=1?o[1]:o[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?i[1]:i[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){d[e+"o"]=function(t,a){return ordinal(a[e](t))}}),{formatters:d,formattingTokensRegExp:buildFormattingTokensRegExp$1(d)}}function ordinal(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var build_format_locale=buildFormatLocale,build_format_locale$1=Object.freeze({default:build_format_locale,__moduleExports:build_format_locale}),buildDistanceInWordsLocale$1=build_distance_in_words_locale$1&&build_distance_in_words_locale||build_distance_in_words_locale$1,buildFormatLocale$1=build_format_locale$1&&build_format_locale||build_format_locale$1,en={distanceInWords:buildDistanceInWordsLocale$1(),format:buildFormatLocale$1()},en_1=en.distanceInWords,en_2=en.format,en$1=Object.freeze({default:en,__moduleExports:en,distanceInWords:en_1,format:en_2}),getDayOfYear$1=get_day_of_year$1&&get_day_of_year||get_day_of_year$1,getISOWeek$1=get_iso_week$1&&get_iso_week||get_iso_week$1,isValid$1=is_valid$1&&is_valid||is_valid$1,enLocale=en$1&&en||en$1;function format(e,t,a){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",n=(a||{}).locale,o=enLocale.format.formatters,s=enLocale.format.formattingTokensRegExp;n&&n.format&&n.format.formatters&&(o=n.format.formatters,n.format.formattingTokensRegExp&&(s=n.format.formattingTokensRegExp));var i=parse$2(e);return isValid$1(i)?buildFormatFn(r,o,s)(i):"Invalid Date"}var formatters={M:function(e){return e.getMonth()+1},MM:function(e){return addLeadingZeros(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return addLeadingZeros(e.getDate(),2)},DDD:function(e){return getDayOfYear$1(e)},DDDD:function(e){return addLeadingZeros(getDayOfYear$1(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return getISOWeek$1(e)},WW:function(e){return addLeadingZeros(getISOWeek$1(e),2)},YY:function(e){return addLeadingZeros(e.getFullYear(),4).substr(2)},YYYY:function(e){return addLeadingZeros(e.getFullYear(),4)},GG:function(e){return String(getISOYear$1(e)).substr(2)},GGGG:function(e){return getISOYear$1(e)},H:function(e){return e.getHours()},HH:function(e){return addLeadingZeros(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return addLeadingZeros(formatters.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return addLeadingZeros(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return addLeadingZeros(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return addLeadingZeros(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return addLeadingZeros(e.getMilliseconds(),3)},Z:function(e){return formatTimezone(e.getTimezoneOffset(),":")},ZZ:function(e){return formatTimezone(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function buildFormatFn(e,t,a){var r,n,o=e.match(a),s=o.length;for(r=0;r<s;r++)n=t[o[r]]||formatters[o[r]],o[r]=n||removeFormattingTokens(o[r]);return function(e){for(var t="",a=0;a<s;a++)o[a]instanceof Function?t+=o[a](e,formatters):t+=o[a];return t}}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function formatTimezone(e,t){t=t||"";var a=e>0?"-":"+",r=Math.abs(e),n=r%60;return a+addLeadingZeros(Math.floor(r/60),2)+t+addLeadingZeros(n,2)}function addLeadingZeros(e,t){for(var a=Math.abs(e).toString();a.length<t;)a="0"+a;return a}var format_1=format;function isSameDay(e,t){var a=startOfDay$1(e),r=startOfDay$1(t);return a.getTime()===r.getTime()}var is_same_day=isSameDay;function isBefore(e,t){var a=parse$2(e),r=parse$2(t);return a.getTime()<r.getTime()}var is_before=isBefore;function isWithinRange(e,t,a){var r=parse$2(e).getTime(),n=parse$2(t).getTime(),o=parse$2(a).getTime();if(n>o)throw new Error("The start of the range cannot be after the end of the range");return r>=n&&r<=o}var is_within_range=isWithinRange;function isToday(e){return startOfDay$1(e).getTime()===startOfDay$1(new Date).getTime()}var is_today=isToday,getWindow=function(){return new Promise(function(e,t){"undefined"!=typeof window&&window?resolve(window):t(null)})},getClassName=function(e){return Object.keys(e).filter(function(t){return e[t]}).join(" ")},monthsOfYear=function(){var e;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US";return e=e||_toConsumableArray(Array(12)).map(function(e,a){return new Date(2017,a,1).toLocaleDateString(t,{month:"long"})})}}(),daysInMonth=function(e,t){return get_days_in_month(new Date(t,e-1))},getMonthHeaderTemplate=function(){var e;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US";return e=e||_toConsumableArray(Array(7)).map(function(e,a){return{dayName:new Date(Date.UTC(2017,0,a+2)).toLocaleDateString(t,{weekday:"long"}),style:{msGridColumn:a+1,gridColumnStart:a+1}}})}}(),getMonthTemplate=function(e,t){var a=daysInMonth(e,t),r=new Date(t,e-1,1).getDay()+1;return _toConsumableArray(Array(a)).map(function(a,n){return{date:new Date(t,e-1,n+1),style:{msGridRow:Math.ceil((r+n)/7),msGridColumn:(r-1+n)%7+1,gridRowStart:Math.ceil((r+n)/7),gridColumnStart:(r-1+n)%7+1}}})},CalendarHeader=function(e){var t=e.month,a=e.year,r=void 0===a?"":a,n=e.onBack,o=e.onForward,s=e.onChangeYear,i=e.locale,d=e.disabled,u=e.disableKeyboard;return React.createElement("div",{className:"CalendarHeader"},React.createElement("button",{className:"BackButton",title:"Previous Month",onClick:n,disabled:d||!n,tabIndex:u?"-1":"0"},"❮"),React.createElement("h1",{className:"MonthDisplay","aria-live":"assertive"},monthsOfYear(i)[t-1],React.createElement("input",{title:"Edit Year",type:"number",value:r,onChange:s,disabled:d,tabIndex:u?"-1":"0"})),React.createElement("button",{className:"NextButton",title:"Next Month",onClick:o,disabled:d||!o,tabIndex:u?"-1":"0"},"❯"))},CalendarDay=function(e){var t=e.date,a=e.dateButtonRef,r=e.dateLabel,n=e.style,o=e.onSelect,s=e.onHover,i=e.onFocus,d=e.disableKeyboard,u=_objectWithoutProperties(e,["date","dateButtonRef","dateLabel","style","onSelect","onHover","onFocus","disableKeyboard"]);return React.createElement("button",{ref:a,role:"gridcell",title:r,"aria-label":r,"aria-selected":u.isSelected?"true":"false",tabIndex:!1===d&&u.isSelected?"0":"-1",className:"CalendarDay ".concat(getClassName(u)),style:n,onClick:u.isDisabled?void 0:function(){return o(t)},onMouseEnter:u.isDisabled?void 0:function(){return s(t)},onMouseLeave:u.isDisabled?void 0:function(){return s(null)},onFocus:u.isDisabled?void 0:function(){return i(t)}},t.getDate())},Calendar=function(e){var t=e.month,a=e.year,r=e.isDateHovered,n=e.isDateFocused,o=e.isDateSelected,s=e.isDateInRange,i=e.isDateHighlighted,d=e.isDateEnabled,u=e.onDateFocused,l=e.onDateHovered,c=e.onDateSelected,f=e.onChangeMonth,_=e.onChangeYear,h=e.calendarRef,D=e.createDateButtonRef,m=e.disabled,g=e.locale,p=e.disableKeyboard,y=getMonthHeaderTemplate(g),v=getMonthTemplate(t,a||0);return React.createElement("div",{className:"CalendarContainer"},React.createElement(CalendarHeader,{month:t,year:a,onBack:f(-1),onForward:f(1),onChangeYear:_,locale:g,disabled:m,disableKeyboard:p}),React.createElement("div",{className:"Calendar",role:"grid",ref:h},React.createElement("div",{className:"head",role:"row"},y.map(function(e,t){var a=e.dayName,r=e.style;return React.createElement("div",{key:a,className:"dayHeading",style:r,role:"columnheader","aria-label":a},React.createElement("abbr",null,a.slice(0,3)))})),React.createElement("div",{className:"body",role:"row"},v.map(function(e,t){var a=e.date,f=e.style;return React.createElement(CalendarDay,{key:a,date:a,dateButtonRef:D(a),dateLabel:format_1(a,"dddd, MMMM D, YYYY"),style:f,isToday:is_today(a),isHovered:r(a),isFocused:n(a),isSelected:o(a),isInRange:s(a),isHighlighted:i(a),isDisabled:m||!d(a),onSelect:c,onHover:l,onFocus:u,disableKeyboard:p})}))))},CalendarType={DatePicker:"DatePicker",DateRangePicker:"DateRangePicker"},CalendarController=function(e){function t(e){var a;_classCallCheck(this,t),a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));var r=e.date||new Date,n=r.getMonth()+1,o=r.getFullYear();return a.state={month:n,year:o},a.handleKeyPress=a.handleKeyPress.bind(_assertThisInitialized(a)),a.onDateHovered=a.onDateHovered.bind(_assertThisInitialized(a)),a.onDateSelected=a.onDateSelected.bind(_assertThisInitialized(a)),a.onDateFocused=a.onDateFocused.bind(_assertThisInitialized(a)),a.isDateHovered=a.isDateHovered.bind(_assertThisInitialized(a)),a.isDateFocused=a.isDateFocused.bind(_assertThisInitialized(a)),a.isDateSelected=a.isDateSelected.bind(_assertThisInitialized(a)),a.isDateInRange=a.isDateInRange.bind(_assertThisInitialized(a)),a.isDateEnabled=a.isDateEnabled.bind(_assertThisInitialized(a)),a.isDateHighlighted=a.isDateHighlighted.bind(_assertThisInitialized(a)),a.onChangeMonth=a.onChangeMonth.bind(_assertThisInitialized(a)),a.onChangeYear=a.onChangeYear.bind(_assertThisInitialized(a)),a.createDateButtonRef=a.createDateButtonRef.bind(_assertThisInitialized(a)),a}return _inherits(t,React.PureComponent),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;getWindow().then(function(t){t.addEventListener("keydown",e.handleKeyPress)}).catch(function(){})}},{key:"componentWillUnmount",value:function(){var e=this;getWindow().then(function(t){t.removeEventListener("keydown",e.handleKeyPress)}).catch(function(){})}},{key:"handleKeyPress",value:function(e){if(this.calendar.contains(document.activeElement)){e.preventDefault();var t=e.shiftKey,a=e.keyCode,r=13===a,n=33===a,o=34===a,s=37===a,i=38===a,d=39===a,u=40===a,l=this.props.isDateEnabled,c=this.state.focused;if(r)l(c)&&this.onDateSelected(c);else if(t&&n){var f=add_years(c,-1);l(f)&&this.onDateFocused(f)}else if(t&&o){var _=add_years(c,1);l(_)&&this.onDateFocused(_)}else if(n){var h=add_months(c,-1);l(h)&&this.onDateFocused(h)}else if(o){var D=add_months(c,1);l(D)&&this.onDateFocused(D)}else if(i){var m=add_weeks(c,-1);l(m)&&this.onDateFocused(m)}else if(u){var g=add_weeks(c,1);l(g)&&this.onDateFocused(g)}else if(s){var p=add_days(c,-1);l(p)&&this.onDateFocused(p)}else if(d){var y=add_days(c,1);l(y)&&this.onDateFocused(y)}else;}}},{key:"onChangeYear",value:function(e){e.preventDefault(),this.setState({year:parseInt(e.target.value)||void 0})}},{key:"onChangeMonth",value:function(e){var t=this,a=this.state,r=a.month,n=a.year,o=r+e,s=void 0===n?0:n;return o<1&&(o=12+o,s-=1),o>12&&(o-=12,s+=1),function(){t.setState(function(){return{month:o,year:s}}),t.props.onMonthChange&&t.props.onMonthChange(o,s)}}},{key:"onDateSelected",value:function(e){var t=this.props,a=t.type,r=t.onDateSelected,n=t.onStartDateSelected,o=t.onEndDateSelected;if(a===CalendarType.DatePicker)r&&r(e);else if(a===CalendarType.DateRangePicker){var s=!this.props.startDate,i=this.props.startDate&&this.props.endDate,d=this.props.startDate&&this.props.startDate>e;s||i||d?(n&&n(e),o&&o(null)):o&&o(e)}}},{key:"onDateHovered",value:function(e){var t=this.props.onDateHovered;this.setState({hovered:e},function(){t&&t(e)})}},{key:"onDateFocused",value:function(e){var t=this,a=this.props.onDateFocused,r=e.getMonth()+1,n=e.getFullYear();this.setState({focused:e,month:r,year:n},function(){var r=t[format_1(e,"YYYYMMDD")];document.activeElement!==r&&r.focus(),a&&a(e)})}},{key:"isDateEnabled",value:function(e){var t=this.props.isDateEnabled;return t(e)}},{key:"isDateHighlighted",value:function(e){var t=this.props.isDateHighlighted;return t(e)}},{key:"isDateFocused",value:function(e){return is_same_day(e,this.state.focused)}},{key:"isDateHovered",value:function(e){return is_same_day(e,this.state.hovered)}},{key:"isDateSelected",value:function(e){return(this.props.type===CalendarType.DatePicker?[this.props.date]:[this.props.startDate,this.props.endDate]).some(function(t){return!!t&&is_same_day(t,e)})}},{key:"isDateInRange",value:function(e){if(this.props.type===CalendarType.DatePicker)return!1;var t=this.props,a=t.startDate,r=t.endDate,n=this.state,o=n.focused,s=n.hovered,i=r||(a&&o&&!is_same_day(a,o)?o:s);return!(!a||!i||is_before(i,a))&&is_within_range(e,a,i)}},{key:"createDateButtonRef",value:function(e){var t=this;return function(a){t[format_1(e,"YYYYMMDD")]=a}}},{key:"render",value:function(){var e=this;return React.createElement(Calendar,{calendarRef:function(t){return e.calendar=t},createDateButtonRef:this.createDateButtonRef,rerender:{focused:this.state.focused,hovered:this.state.hovered,date:this.props.date,startDate:this.props.startDate,endDate:this.props.endDate},month:this.props.month||this.state.month,year:this.props.year||this.state.year,isDateHovered:this.isDateHovered,isDateFocused:this.isDateFocused,isDateSelected:this.isDateSelected,isDateInRange:this.isDateInRange,isDateHighlighted:this.isDateHighlighted,isDateEnabled:this.isDateEnabled,onDateSelected:this.onDateSelected,onDateHovered:this.onDateHovered,onDateFocused:this.onDateFocused,onChangeMonth:this.onChangeMonth,onChangeYear:this.onChangeYear,locale:this.props.locale,disabled:this.props.disabled,disableKeyboard:this.props.disableKeyboard})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=Object.assign({},t);return Object.keys(t).forEach(function(r){a[r]=e[r]?e[r]:t[r]}),a}}]),t}();CalendarController.defaultProps={type:CalendarType.DatePicker,locale:"en-US",isDateHighlighted:function(e){return!1},isDateEnabled:function(e){return!0},disabled:!1,disableKeyboard:!1};var DatePicker=function(e){return React.createElement(CalendarController,_extends({type:CalendarType.DatePicker},e))},DateRangePicker=function(e){return React.createElement(CalendarController,_extends({type:CalendarType.DateRangePicker},e))};export{DatePicker,DateRangePicker};
